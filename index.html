<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nambour Christian College - Alumni Hub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        overflow: hidden;
        background: #0a0a1a;
    }
    
    #container {
        width: 100vw;
        height: 100vh;
    }
    
    #info {
        position: absolute;
        top: 20px;
        left: 20px;
        color: white;
        background: rgba(0, 0, 0, 0.7);
        padding: 20px;
        border-radius: 10px;
        max-width: 300px;
        z-index: 100;
    }
    
    #info h1 {
        font-size: 20px;
        margin-bottom: 10px;
        color: #006666;
    }
    
    #info p {
        font-size: 14px;
        line-height: 1.5;
        margin-bottom: 10px;
    }
    
    #alumniInfo {
        position: absolute;
        bottom: 20px;
        left: 20px;
        color: white;
        background: rgba(0, 0, 0, 0.8);
        padding: 15px;
        border-radius: 10px;
        max-width: 350px;
        display: none;
        z-index: 100;
    }
    
    #alumniInfo h2 {
        font-size: 16px;
        margin-bottom: 5px;
        color: #006666;
    }
    
    #alumniInfo p {
        font-size: 13px;
        margin: 3px 0;
    }
    
    .loading {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 24px;
        z-index: 200;
    }
</style>
```

</head>
<body>
    <div class="loading" id="loading">Loading Earth...</div>

```
<div id="info">
    <h1>NCC Alumni Globe</h1>
    <p>üåç Drag to rotate</p>
    <p>üñ±Ô∏è Scroll to zoom</p>
    <p>üìç Click markers for alumni info</p>
    <p style="margin-top: 15px; font-size: 12px; color: #888;">
        <span id="alumniCount">20</span> alumni worldwide
    </p>
</div>

<div id="alumniInfo"></div>

<div id="container"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
    // Alumni data with locations (lat, lon, name, year, location, career)
    const alumniData = [
        { lat: -26.6278, lon: 152.9599, name: "Sarah Mitchell", year: 2015, location: "Nambour, Australia", career: "Teacher" },
        { lat: -33.8688, lon: 151.2093, name: "James Cooper", year: 2013, location: "Sydney, Australia", career: "Software Engineer" },
        { lat: -37.8136, lon: 144.9631, name: "Emma Wilson", year: 2016, location: "Melbourne, Australia", career: "Doctor" },
        { lat: -27.4698, lon: 153.0251, name: "Daniel Brown", year: 2014, location: "Brisbane, Australia", career: "Architect" },
        { lat: 51.5074, lon: -0.1278, name: "Oliver Harris", year: 2012, location: "London, UK", career: "Financial Analyst" },
        { lat: 40.7128, lon: -74.0060, name: "Sophia Martinez", year: 2015, location: "New York, USA", career: "Marketing Director" },
        { lat: 34.0522, lon: -118.2437, name: "Liam Anderson", year: 2011, location: "Los Angeles, USA", career: "Film Producer" },
        { lat: 49.2827, lon: -123.1207, name: "Ava Thompson", year: 2017, location: "Vancouver, Canada", career: "Environmental Scientist" },
        { lat: 1.3521, lon: 103.8198, name: "Noah Lee", year: 2014, location: "Singapore", career: "Business Consultant" },
        { lat: 35.6762, lon: 139.6503, name: "Mia Tanaka", year: 2016, location: "Tokyo, Japan", career: "Graphic Designer" },
        { lat: -33.9249, lon: 18.4241, name: "Isabella van der Berg", year: 2013, location: "Cape Town, South Africa", career: "Wildlife Conservationist" },
        { lat: 48.8566, lon: 2.3522, name: "Ethan Dubois", year: 2015, location: "Paris, France", career: "Chef" },
        { lat: 52.5200, lon: 13.4050, name: "Charlotte Schmidt", year: 2012, location: "Berlin, Germany", career: "Renewable Energy Engineer" },
        { lat: -1.2921, lon: 36.8219, name: "Mason Ochieng", year: 2014, location: "Nairobi, Kenya", career: "NGO Director" },
        { lat: 19.4326, lon: -99.1332, name: "Amelia Rodriguez", year: 2016, location: "Mexico City, Mexico", career: "Journalist" },
        { lat: -12.0464, lon: -77.0428, name: "Lucas Silva", year: 2015, location: "Lima, Peru", career: "Mining Engineer" },
        { lat: 55.7558, lon: 37.6173, name: "Ella Ivanova", year: 2013, location: "Moscow, Russia", career: "Translator" },
        { lat: 25.2048, lon: 55.2708, name: "Benjamin Al-Rashid", year: 2017, location: "Dubai, UAE", career: "Hotel Manager" },
        { lat: -41.2865, lon: 174.7762, name: "Grace Williams", year: 2014, location: "Wellington, New Zealand", career: "Software Developer" },
        { lat: 13.7563, lon: 100.5018, name: "Henry Chen", year: 2016, location: "Bangkok, Thailand", career: "International Trade Specialist" }
    ];

    let scene, camera, renderer, earth, markers = [];
    let isDragging = false;
    let previousMousePosition = { x: 0, y: 0 };
    let selectedMarker = null;

    // Convert lat/lon to 3D coordinates
    function latLonToVector3(lat, lon, radius) {
        const phi = (90 - lat) * (Math.PI / 180);
        const theta = (lon + 180) * (Math.PI / 180);
        
        const x = -(radius * Math.sin(phi) * Math.cos(theta));
        const z = (radius * Math.sin(phi) * Math.sin(theta));
        const y = (radius * Math.cos(phi));
        
        return new THREE.Vector3(x, y, z);
    }

    function init() {
        // Scene
        scene = new THREE.Scene();
        
        // Camera
        camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 3;
        
        // Renderer
        renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        document.getElementById('container').appendChild(renderer.domElement);
        
        // Lights
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
        scene.add(ambientLight);
        
        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
        directionalLight.position.set(5, 3, 5);
        scene.add(directionalLight);
        
        // Earth
        const geometry = new THREE.SphereGeometry(1, 64, 64);
        
        // Load Earth texture from local file
        // YOU MUST download an earth texture and place it in your repo as 'earth.jpg'
        // Get a free texture from: https://www.solarsystemscope.com/textures/
        // Download "Earth 2K" texture and save as 'earth.jpg' in your repo
        
        const textureLoader = new THREE.TextureLoader();
        
        textureLoader.load(
            './earth.jpg', // Local file path - MUST be in your GitHub repo
            (texture) => {
                console.log('Successfully loaded local Earth texture');
                const material = new THREE.MeshPhongMaterial({
                    map: texture,
                    bumpScale: 0.005,
                    shininess: 10,
                    specular: 0x333333
                });
                
                earth = new THREE.Mesh(geometry, material);
                scene.add(earth);
                addMarkers();
                document.getElementById('loading').style.display = 'none';
            },
            (progress) => {
                if (progress.lengthComputable) {
                    const percent = Math.round((progress.loaded / progress.total) * 100);
                    document.getElementById('loading').textContent = `Loading Earth... ${percent}%`;
                }
            },
            (error) => {
                console.error('Failed to load local texture. Make sure earth.jpg is in your repo!', error);
                document.getElementById('loading').textContent = 'Error: earth.jpg not found. Please add Earth texture to repo.';
                
                // Fallback to simple colored globe
                setTimeout(() => {
                    const material = new THREE.MeshPhongMaterial({
                        color: 0x2171a3,
                        shininess: 10
                    });
                    earth = new THREE.Mesh(geometry, material);
                    scene.add(earth);
                    addMarkers();
                }, 2000);
            }
        );
        
        // Mouse events
        renderer.domElement.addEventListener('mousedown', onMouseDown);
        renderer.domElement.addEventListener('mousemove', onMouseMove);
        renderer.domElement.addEventListener('mouseup', onMouseUp);
        renderer.domElement.addEventListener('wheel', onWheel);
        renderer.domElement.addEventListener('click', onClick);
        
        // Touch events for mobile
        renderer.domElement.addEventListener('touchstart', onTouchStart);
        renderer.domElement.addEventListener('touchmove', onTouchMove);
        renderer.domElement.addEventListener('touchend', onTouchEnd);
        
        window.addEventListener('resize', onWindowResize);
        
        animate();
    }

    function addMarkers() {
        alumniData.forEach(alumni => {
            const position = latLonToVector3(alumni.lat, alumni.lon, 1.01);
            
            const markerGeometry = new THREE.SphereGeometry(0.015, 16, 16);
            const markerMaterial = new THREE.MeshStandardMaterial({ 
                color: 0x006666,
                emissive: 0x008080,
                emissiveIntensity: 0.5,
                metalness: 0.3,
                roughness: 0.4
            });
            const marker = new THREE.Mesh(markerGeometry, markerMaterial);
            marker.position.copy(position);
            marker.userData = alumni;
            
            // Add marker as child of earth so it rotates with the globe
            earth.add(marker);
            markers.push(marker);
        });
    }

    function onMouseDown(e) {
        isDragging = true;
        previousMousePosition = { x: e.clientX, y: e.clientY };
    }

    function onMouseMove(e) {
        if (isDragging && earth) {
            const deltaX = e.clientX - previousMousePosition.x;
            const deltaY = e.clientY - previousMousePosition.y;
            
            earth.rotation.y += deltaX * 0.005;
            earth.rotation.x += deltaY * 0.005;
            
            previousMousePosition = { x: e.clientX, y: e.clientY };
        }
    }

    function onMouseUp() {
        isDragging = false;
    }

    function onTouchStart(e) {
        if (e.touches.length === 1) {
            isDragging = true;
            previousMousePosition = { x: e.touches[0].clientX, y: e.touches[0].clientY };
        }
    }

    function onTouchMove(e) {
        if (isDragging && e.touches.length === 1 && earth) {
            const deltaX = e.touches[0].clientX - previousMousePosition.x;
            const deltaY = e.touches[0].clientY - previousMousePosition.y;
            
            earth.rotation.y += deltaX * 0.005;
            earth.rotation.x += deltaY * 0.005;
            
            previousMousePosition = { x: e.touches[0].clientX, y: e.touches[0].clientY };
        }
    }

    function onTouchEnd() {
        isDragging = false;
    }

    function onWheel(e) {
        e.preventDefault();
        const zoomSpeed = 0.001;
        camera.position.z += e.deltaY * zoomSpeed;
        camera.position.z = Math.max(1.5, Math.min(5, camera.position.z));
    }

    function onClick(e) {
        const mouse = new THREE.Vector2();
        mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
        mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
        
        const raycaster = new THREE.Raycaster();
        raycaster.setFromCamera(mouse, camera);
        
        const intersects = raycaster.intersectObjects(markers);
        
        if (intersects.length > 0) {
            const alumni = intersects[0].object.userData;
            showAlumniInfo(alumni);
        } else {
            hideAlumniInfo();
        }
    }

    function showAlumniInfo(alumni) {
        const infoDiv = document.getElementById('alumniInfo');
        infoDiv.innerHTML = `
            <h2>${alumni.name}</h2>
            <p><strong>Class of ${alumni.year}</strong></p>
            <p>üìç ${alumni.location}</p>
            <p>üíº ${alumni.career}</p>
        `;
        infoDiv.style.display = 'block';
    }

    function hideAlumniInfo() {
        document.getElementById('alumniInfo').style.display = 'none';
    }

    function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }

    function animate() {
        requestAnimationFrame(animate);
        
        // Gentle auto-rotation when not dragging
        if (!isDragging && earth) {
            earth.rotation.y += 0.001;
        }
        
        renderer.render(scene, camera);
    }

    init();
</script>
```

</body>
</html>